<!DOCTYPE html><html><head><style>#wrapper{position:relative}.number{position:absolute;width:1px;height:1px}.prime{border-radius:0px;background-color:#2196F3}.notprime{background-color:#333}.first{background-color:red}</style><title>ulamSpiral-0</title></head><body><div id="wrapper"></div> <script>var size=5;var run=10000;var dir=0;var isPrime=function(n){var i,l;if(n===1){return false;} if(n===2){return true;} if(n%2===0){return false;} for(i=3,l=Math.sqrt(n);i<=l;i+=2){if(n%i===0){return false;}} return true;};var appendNum=(function(){var doc=document;var wrapper=document.getElementById("wrapper");var first=true;return function(num,highlight,x,y){var div=doc.createElement("div");var className="number";var titleName=num;className+=highlight?" prime":" notprime";className+=first?" first":"";first=false;div.className=className;div.title=titleName;div.style.left=x+"px";div.style.top=y+"px";wrapper.appendChild(div);};}());var offsetX,offsetY;if(self.innerHeight){offsetX=self.innerWidth;offsetY=self.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){offsetX=document.documentElement.clientWidth;offsetY=document.documentElement.clientHeight;}else if(document.body){offsetX=document.body.clientWidth;offsetY=document.body.clientHeight;} offsetX=offsetX/2;offsetY=offsetY/2;var limit=1;var counter=0;var turns=0;for(var i=1;i<run+1;i++){appendNum(i,isPrime(i),offsetX,offsetY);switch(dir){case 0:offsetX+=size;break;case 1:offsetY-=size;break;case 2:offsetX-=size;break;case 3:offsetY+=size;break;} counter++;if(counter>=limit){counter=0;turns=(turns+1)%2;dir=(dir+1)%4;if(turns===0){limit++;}}} var classes=document.getElementsByClassName("number");for(i=0;i<classes.length;i++){classes[i].style.width=size+"px";classes[i].style.height=size+"px";}</script> </body></html>